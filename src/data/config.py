import enum
import os

from dotenv import load_dotenv
from glQiwiApi import QiwiWrapper

load_dotenv()
# ===== BOT ===== #
BOT_TOKEN = os.getenv("BOT_TOKEN")
BOT_NAME = os.getenv('BOT_NAME')
BOT_DESC = os.getenv('BOT_DESC')
superadmin = os.getenv("WELOXD_ID")
PROFILE_GIF_FILEID = 'CgACAgIAAxkBAAIO1WEniaPKVj67ROYRpynvv1nmtoXLAAJyDwACSmM4SUPGbw-JZDSvIAQ'
DATE_FORMAT = '%Y-%m-%d'
TIME_FORMAT = '%H:%M:%S'
DATETIME_FORMAT = DATE_FORMAT + ' ' + TIME_FORMAT

# ===== QIWI ===== #
QIWI_PHONE_NUMBER = os.getenv('QIWI_PHONE_NUMBER')
QIWI_TOKEN = os.getenv('QIWI_TOKEN')
QIWI_P2P = os.getenv('QIWI_P2P')
QIWI_SECRET = os.getenv('QIWI_SECRET')

# ===== YOOMONEY ===== #
YOOMONEY_CLIENT_ID = os.getenv('YOOMONEY_CLIENT_ID')
YOOMONEY_SECRET = os.getenv('YOOMONEY_SECRET')
YOOMONEY_REDIR = os.getenv("YOOMONEY_REDIR")
YOOMONEY = os.getenv("YOOMONEY")
YOOMONEY_ACCESS_TOKEN = os.getenv("YOOMONEY_ACCESS_TOKEN")

# ===== BTC BANKER ===== #
BTC_BANKER_WALLET = os.getenv('BTC_BANKER_WALLET')

# ===== CHAT ===== #
JOBS_CHAT_ID = os.getenv('CHAT_ID')
CHAT_LINK = os.getenv('CHAT_LINK')

# ===== POLL ===== #
# Please don't set it lose than 60 second! You can get fatal error and bot will be shot downed!
BOT_REFRESH_RATE = 15

# ========== PAYMENT ======= #
QIWI_WALLET = QiwiWrapper(
    phone_number=QIWI_PHONE_NUMBER if QIWI_PHONE_NUMBER[0] == '+' else f'+{QIWI_PHONE_NUMBER}',
    api_access_token=QIWI_TOKEN,
    secret_p2p=QIWI_SECRET,
    without_context=True
)

# ========== POLL ========== #
class PollStatus(enum.Enum):
    INACTIVE = 0
    ACTIVE = 1
    EDITING = 2
    ON_MODERATION = 3
    PAYMENT = 3


MIN_CONTACT_LEN = 1
MIN_DESCRIPT_LEN = 1
REPLACES = {
    '‚ñ´Ô∏è–ë–µ–ª–∞—è‚ñ´Ô∏è': '–ë–µ–ª–∞—è',
    '‚õì–°–µ—Ä–∞—è‚õì': '–°–µ—Ä–∞—è',
    '‚ñ™Ô∏è–ß–µ—Ä–Ω–∞—è‚ñ™Ô∏è': '–ß–µ—Ä–Ω–∞—è',

    '1Ô∏è‚É£': 1,
    '2Ô∏è‚É£': 2,
    '3Ô∏è‚É£': 3,
    '4Ô∏è‚É£': 4,
    '5Ô∏è‚É£': 5,
    '6Ô∏è‚É£': 6,
    '7Ô∏è‚É£': 7,
    '8Ô∏è‚É£': 8,
    '9Ô∏è‚É£': 9,
    'üîü': 10,

    '1': 1,
    '2': 2,
    '3': 3,
    '4': 4,
    '5': 5,
    '6': 6,
    '7': 7,
    '8': 8,
    '9': 9,
    '10': 10,

    '3 –¥–Ω—è': 3,
    '7 –¥–Ω–µ–π': 7,
    '30 –¥–Ω–µ–π': 30,
}
PRICE_COLOR_MULTIPLY = {
    '–ë–µ–ª–∞—è': 1,
    '–°–µ—Ä–∞—è': 2.5,
    '–ß–µ—Ä–Ω–∞—è': 8,
}
PRICELIST = {
    1: {
        3: 2, # 150
        7: 2, # 250
        30: 2, # 800
    },
    2: {
        3: 250, # 250
        7: 400, # 400
        30: 1500, # 1500
    }
}

MESSAGES = {
    'autoposting_stopped': '‚ùóÔ∏è–ê–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –ü—Ä–æ–¥–ª–∏—Ç—å –µ–≥–æ –º–æ–∂–Ω–æ –≤ –º–µ–Ω—é "–ü—Ä–æ—Ñ–∏–ª—å".',
    'your_vacancy_approved': 'üåÄ–í–∞—à–∞ –∞–Ω–∫–µ—Ç–∞ #{} –æ–¥–æ–±—Ä–µ–Ω–∞ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–º –∏ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∞ –≤ —á–∞—Ç–µ, –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!üåÄ',
    'your_vacancy_rejected': '–í–∞—à–∞ –∞–Ω–∫–µ—Ç–∞ {} –±—ã–ª–∞ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–º {} –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞ –ø–æ –ø—Ä–∏—á–∏–Ω–µ: ',
    'bot_statistics':
'''
üí´üí´üí´üí´üí´üí´üí´üí´
    –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–æ—Ç–∞:

‚Ä¢ –Æ–∑–µ—Ä–æ–≤: {}
‚Ä¢ –û–±—â–∏–π –¥–µ–ø–æ–∑–∏—Ç —é–∑–µ—Ä–æ–≤: {}
‚Ä¢ –ê–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫: {}
‚Ä¢ –ü–æ–¥–ø–∏—Å–æ–∫ —Ç—Ä–µ–±—É—é—â–∏—Ö –º–æ–¥–µ—Ä–∞—Ü–∏–∏: {}

üí´üí´üí´üí´üí´üí´üí´üí´
''',
    'bot_moto':
'''
üé© –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, <b>{}</b>! 

 ü§ñ<b>–î–ª—è —á–µ–≥–æ —ç—Ç–æ—Ç –±–æ—Ç:</b>
   ‚îú –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∫–ª–∞–º–Ω–æ–≥–æ –ø–æ—Å—Ç–∞.
   ‚îú <b>üî•–ê–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥ –≤ —á–∞—Ç.</b>
   ‚îî –û–ø–ª–∞—Ç–∞ –ø–æ–¥–ø–∏—Å–∫–∏.

<b>–ë–ª–∞–≥–æ–¥–∞—Ä—è –±–æ—Ç—É</b> –≤—ã —Å–º–æ–∂–µ—Ç–µ –≤ –∫—Ä–∞—Ç—á–∞–π—à–∏–µ —Å—Ä–æ–∫–∏ <b><u>–Ω–∞–π—Ç–∏ —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤</u></b>.

‚è±<b>–í–∞–º –Ω–µ –ø—Ä–∏–¥—ë—Ç—Å—è –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å–≤–æ–π –ø–æ—Å—Ç</b>, –Ω–∞—à –ë–æ—Ç —Å–¥–µ–ª–∞–µ—Ç —ç—Ç–æ –∑–∞ –≤–∞—Å.
''',
    'poll_moto':
'''
            üõ∏–ï—Å–ª–∏ –≤—ã –∂–µ–ª–∞–µ—Ç–µ —Ä–∞–∑–º–µ—â–∞—Ç—å—Å—è –≤ –º–æ–µ–º —á–∞—Ç–µ –∏ –Ω–∞–π—Ç–∏ —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤, —Ç–æ –≤–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∫–µ—Ç—É:
        
        
        1) <b>–¶–≤–µ—Ç —Ä–∞–±–æ—Ç—ã.</b>
        2) <b>–°–ª–æ–∂–Ω–æ—Å—Ç—å.</b>
        3) <b>–ó–∞—Ä–ø–ª–∞—Ç–∞.</b>
        4) <b>–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã.</b>
        5) <b>–û–ø–∏—Å–∞–Ω–∏–µ.</b>
        6) <b>–°–≤—è–∑—å.</b>
        
        –î–∞–ª–µ–µ –Ω–∞—à –∞–ª–≥–æ—Ä–∏—Ç–º —Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∏–∑ –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –í–∞—à —Ä–µ–∫–ª–∞–º–Ω—ã–π –ø–æ—Å—Ç –∏ –í—ã —Å–º–æ–∂–µ—Ç–µ —Ä–∞–∑–º–µ—â–∞—Ç—å —Ä–µ–∫–ª–∞–º—É –≤ —á–∞—Ç–µ.
''',
    'vacancy_preview':
'''
#–∏—â—É—Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤

<b>–¶–≤–µ—Ç —Ä–∞–±–æ—Ç—ã:</b> {}
<b>–°–ª–æ–∂–Ω–æ—Å—Ç—å:</b> {}
<b>–ó–∞—Ä–∞–±–æ—Ç–Ω–∞—è –ø–ª–∞—Ç–∞:</b> {} 
<b>–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:</b> {}
<b>–û–ø–∏—Å–∞–Ω–∏–µ:</b> {}

<b>üìù –°–≤—è–∑—å:</b> {}
<b>üé© –ì–∞—Ä–∞–Ω—Ç:</b> @scrooge_garantbot
''',
    'bot_no_vacancy': '‚ùó –í—ã –Ω–µ –æ—Ñ–æ—Ä–º–ª—è–ª–∏ –∞–Ω–∫–µ—Ç—É, –∏—Å–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ –º–æ–∂–Ω–æ –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é –∏–ª–∏ –∫–æ–º–∞–Ω–¥–æ–π /find_employs\n',
    'bot_start_msg': '–ë–æ—Ç <b><u>{}</u></b> –∑–∞–ø—É—â–µ–Ω –≤ {}',
    'poll_color_lbl': '1Ô∏è‚É£ –¶–≤–µ—Ç —Ä–∞–±–æ—Ç—ã: ',
    'poll_difficulty_lbl': '2Ô∏è‚É£ –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã: ',
    'poll_wages_lbl': '3Ô∏è‚É£ –ó–∞—Ä–ø–ª–∞—Ç–∞: ',
    'poll_time_lbl': '4Ô∏è‚É£ –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: ',
    'poll_desc_lbl': '5Ô∏è‚É£ –†–∞—Å–ø–∏—à–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –∫–∞–∫ –º–æ–∂–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–µ–µ:',
    'poll__lbl': '',
    'unknow_cmd': '‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ ‚ùî',
    'invalid_input': 'üí¢ –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–≤–æ–¥, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑! üí¢',
    'unknown_db_user': 'üí¢ –¢–∞–∫–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç –≤ –ë–î! üí¢',
    'new_admin_username': 'üëë –í–≤–µ–¥–∏—Ç–µ @username –Ω–æ–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞',
    'new_moder_username': 'üëë –í–≤–µ–¥–∏—Ç–µ @username –Ω–æ–≤–æ–≥–æ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞',
    'ban_username': '–í–≤–µ–¥–∏—Ç–µ —Ç–æ—á–Ω—ã–π username –≤ —Ñ–æ—Ä–º–∞—Ç–µ @username —á—Ç–æ–±—ã –∑–∞–±–∞–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è',
    'moder_notify_sender': 'üñ§ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º, —é–∑–µ—Ä @{} —Ç–µ–ø–µ—Ä—å —Å—Ç–∞–ª –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–º',
    'moder_notify': 'üñ§ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º, —Ç–µ–ø–µ—Ä—å –≤—ã —Å—Ç–∞–ª–∏ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–º! –í–∞—Å –Ω–∞–∑–Ω–∞—á–∏–ª @{}',
    'admin_notify_sender': 'üëë –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º, —é–∑–µ—Ä @{} —Ç–µ–ø–µ—Ä—å —Å—Ç–∞–ª –∞–¥–º–∏–Ω–æ–º üëë',
    'admin_notify': 'üëë –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º, —Ç–µ–ø–µ—Ä—å –≤—ã —Å—Ç–∞–ª–∏ –∞–¥–º–∏–Ω–æ–º! –í–∞—Å –Ω–∞–∑–Ω–∞—á–∏–ª @{}',
    'sub_expires_1day': '‚≠ïÔ∏è–í–∞—à–∞ –ø–æ–¥–ø–∏—Å–∫–∞ –∏—Å—Ç–µ–∫–∞–µ—Ç –∑–∞–≤—Ç—Ä–∞, —Å–æ–≤–µ—Ç—É–µ–º –≤–∞–º –µ—ë –ø—Ä–æ–¥–ª–∏—Ç—å!',
    'sub_type_moto': '–•–æ—Ä–æ—à–æ, –¥–∞–≤–∞–π –æ–ø—Ä–µ–¥–µ–ª–∏–º—Å—è —Å —Ç–∏–ø–æ–º –ø–æ–¥–ø–∏—Å–∫–∏, –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —É –Ω–∞—Å –µ—Å—Ç—å –¥–≤–∞ —Ç–∏–ø–∞:\n' +
                             '<b>‚Ä¢ –û–±—ã—á–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ (1 —Ä–∞–∑ –≤ –¥–µ–Ω—å)</b>\n' +
                             '<b>‚Ä¢ –ü—Ä–µ–º–∏—É–º –ø–æ–¥–ø–∏—Å–∫–∞ (2 —Ä–∞–∑ –≤ –¥–µ–Ω—å)</b>\n',
}

BUTTONS = {
    'start': '‚≠ê –ù–∞—á–∞—Ç—å ‚≠ê',
    're_send_poll': '–ü–µ—Ä–µ—Ö–∞–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∫–µ—Ç—É',
    'poll_get_ready': '‚òïÔ∏è–ü—Ä–∏—Å—Ç—É–ø–∏—Ç—å',
    'next': '‚úÖ –í—Å—ë –û–ö, –µ–¥–µ–º –¥–∞–ª—å—à–µ ‚úÖ',
    'pcolor_white': '‚ñ´Ô∏è–ë–µ–ª–∞—è‚ñ´Ô∏è',
    'pcolor_gray': '‚õì–°–µ—Ä–∞—è‚õì',
    'pcolor_black': '‚ñ™Ô∏è–ß–µ—Ä–Ω–∞—è‚ñ™Ô∏è',
    'pconfirm_next': 'üëå –í—Å—ë –≤–µ—Ä–Ω–æ, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º üëå',
    'pconfirm_again': '‚ùå –ù–µ—Ç, —è –∑–∞–ø–æ–ª–Ω—é –∞–Ω–∫–µ—Ç—É –∑–∞–Ω–æ–≤–æ ‚ùå',
    'sub_type_1': 'üîé –û–±—ã—á–Ω–∞—è',
    'sub_type_2': 'üéñ Premium',

    'admin_panel_magic': 'üßô‚Äç‚ôÄÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É —é–∑–µ—Ä–∞ üßô‚Äç‚ôÇÔ∏è',
    'admin_panel_ban': 'üö´ –ó–∞–±–∞–Ω–∏—Ç—å —é–∑–µ—Ä–∞ üö´',
    'statistics': 'üß∑ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ üé©',
    'add_admin': 'üëë –î–æ–±–∞–≤–∏—Ç—å –∞–¥–º–∏–Ω–∞ üëë',
    'add_moder': 'üòé –î–æ–±–∞–≤–∏—Ç—å –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞ üòé',
    'admin_check_payments': 'üí≤ –ü–∞–Ω–µ–ª—å –ø–ª–∞—Ç–µ–∂–µ–π üí≤',
    'admin_btc_banker': 'üè¶ BTC –ë–∞–Ω–∫–∏—Ä üè¶',

    'see_polls': 'üîç –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞—è–≤–∫–∏ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é',

    'find_employs': 'üîç –ù–∞–π—Ç–∏ —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤',
    'chat': 'üì® –ß–∞—Ç',
    'profile': 'üé© –ü—Ä–æ—Ñ–∏–ª—å',

    'profile_my_poll': '‚òï –ú–æ—è –∞–Ω–∫–µ—Ç–∞',
    'profile_back': 'üîô –ù–∞–∑–∞–¥',
    'chat_link': '‚Üó –ü–µ—Ä–µ–π—Ç–∏ –≤ —á–∞—Ç ‚Üó',

    'btn_back': '‚¨Ö –ù–∞–∑–∞–¥',
    'btn_cancel': 'üö´ –û—Ç–º–µ–Ω–∞'
}

DECODE_POLL = {
    'sub_type': {
        '1': '–û–±—ã—á–Ω–∞—è',
        '2': '–ü—Ä–µ–º–∏—É–º'
    },
    'status': {
        'PollStatus.EDITING': '–†–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è',
        'PollStatus.ACTIVE': '–ê–∫—Ç–∏–≤–Ω–∞',
        'PollStatus.PAYMENT': '–û–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è',
        'PollStatus.INACTIVE': '–ù–µ–∞–∫—Ç–∏–≤–Ω–∞',
        'PollStatus.ON_MODERATION': '–ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ',
    }
}

minute_vacancies = []
days_vacancies = []